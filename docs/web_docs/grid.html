<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
  <title>Climate Prediction Center - wgrib2: -grid</title>
  <meta http-equiv=Content-Type content="text/html; charset=windows-1252">
  <meta content="NCEP Web Team" name="GENERATOR">
  <meta name="keywords"
  content="Climate,Climate Prediction Center,National Weather Service,National Oceanic &amp; Atmospheric Administration, NOAA,El Nino,La Nina,ENSO,climate outlooks,El Nino Advisory,La Nina Advisory,droughts,hurricanes,Threats Assessment,Drought Assessment,Drought Monitor,CLimate Diagnostics Bulletin,6-10 day outlook,8-14 day outlook, 6-10 day forecast,8-14 day forecast,MRF,UV Index,North Atlantic Oscillation,NAO,Pacific Decadal Oscillation,PDO,sea surface temperatures,SST,Palmer Drought Severity Index, African Desk,outlooks,expert assessments,monitoring,advisories,stratosphere,temperature,precipitation,snow cover,snowfall,soil moisture,OLR,ozone,degree days,CLIMATE,CLIMATE PREDICTION CENTER,EL NINO,LA NINA, CLIMATE OUTLOOKS,HURRICANES,ASSESSMENTS,SNOW,STRATOSPHERE,DROUGHT,OZONE,DEGREE DAYS">
  <link href="/nwscwi/main.css" type="text/css" rel="STYLESHEET">
</head>
<body leftmargin="0" background="/nwscwi/background.gif" 
      topmargin="0" rightmargin="0" marginheight="0" marginwidth="0">
<table cellspacing="0" cellpadding="0" width="100%" background="/nwscwi/topbanner.jpg" border="0">
  <tr>
    <td align="right" height="19">
      <a href="#contents"><img height="1" alt="Skip Navigation Links"
         src="/nwscwi/skipgraphic.gif" width="1" border="0"></a>
      <a href="https://www.nws.noaa.gov/" class="homepagelinks"><span class="nwslink">www.nws.noaa.gov</span></a>&nbsp;</td>
  </tr>
</table>
<table cellspacing="0" cellpadding="0" width="100%" border="0">
  <tr>
    <td rowspan="2"><a href="https://www.noaa.gov/">
      <img height="78" alt="NOAA logo - Click to go to the NOAA home page"
      src="/nwscwi/noaaleft.jpg" width="85" border="0"></a></td>
    <td align="left"><img height="20" alt="National Weather Service"
      src="/nwscwi/nws_title.jpg" width="500" border="0"></td>
    <td rowspan="2" width="100%" background="/nwscwi/ncep_bkgrnd.jpg">&nbsp;</td>
    <td rowspan="2" align="right"><a href="https://www.nws.noaa.gov/">
      <img height="78" alt="NWS logo - Click to go to the NWS home page"
      src="/nwscwi/nwsright.jpg" width="85" border="0"></a></td>
  </tr>
  <tr>
    <td><img height="58" alt="Climate Prediction Center" src="/nwscwi/cpc.jpg"
             width="500" border="0"></td>    <!-- Put your center header image here. -->
  </tr>
</table>
<table cellspacing="0" cellpadding="0" width="100%" background="/nwscwi/navbkgrnd.gif" border="0">
  <tr>
    <td align="left" valign="top" width="94"><img height="23" alt="" src="/nwscwi/navbarleft.jpg" width
="94" border="0"></td>
    <td class="nav" align="center" width="15%">
      <a href="/products/site_index.html" class="menu">Site Map</a></td> <!-- Build a text only sitemap, and link to it via this
                                                    sitemap button just below the banner.
                                                    The sitemap should include a heirarchy of links
                                                    from NOAA, to the NWS, to NCEP, and then through your site. -->
    <td class="nav" align="right" width="15%">
      <a href="https://www.nws.noaa.gov/pa/" class="menu">News</a></td>
    <td class="nav" id="menuitem" align="right" width="20%">
      <a href="https://weather.gov/organization.php" class="menu">Organization</a></td>
    <td class="yellow" align="right" width="20%">
      <form action="https://www.firstgov.gov/fgsearch/index.jsp" name="query">
        <label for="search">Search</label>&nbsp;</td>
    <td align="left" class="searchinput" width="20%" nowrap>
      <input type="hidden" name="parsed" value="true">
      <input type="hidden" name="rn" value="3">
      <input type="hidden" name="in0" value="domain">
      <input type="hidden" name="dom0" value="nws.noaa.gov, weather.gov, wrh.noaa.gov, srh.noaa.gov, crh.noaa.gov, prh.noaa.gov, arh.noaa.gov, alaska.net/~nwsar, erh.noaa.gov, ncep.noaa.gov, wwb.noaa.gov, spc.noaa.gov, nhc.noaa.gov, sec.noaa.gov, aviationweather.gov, aviationweather.noaa.gov, weather.noaa.gov, roc.noaa.gov, nohrsc.nws.gov, nwstc.noaa.gov, wdtb.noaa.gov, npmoc.navy.mil, ndbc.noaa.gov">
      <input type="text" name="mw0" value="All NWS Search" id="search" size="20" maxlength="256">
      <input type="submit" name="Go2" value="Go"></td>
    <td width="10%">&nbsp;</form></td>
    <td align="right" valign="bottom" width="24"><img height="23" alt="" src="/nwscwi/navbarendcap.jpg"
 width="24" border="0"></td>
  </tr>
</table>
<table cellspacing="0" cellpadding="0" width="670" border="0">
  <tr valign="top">
    <td width="137"><br>
      <table cellspacing="0" cellpadding="2" width="137" border="0">
        <!-- Do not remove this section. You will need this when the City,St/zip search is implemented nationwide.-->
        <!-- <tr align="left" valign="top">
                <td class="searchinput">
                  <div id="Layer2" style="position:absolute; width:200px; height:115px; z-index:2; visibility: hidden">Search by city or zip code. Press enter or select the go button to submit request</div>
                  <form method="POST" action="https://www.srh.noaa.gov/zipcity.php">
                  <span class="yellow">Local forecast by<br>&quot;City, St&quot; or Zip Code</span><br>
                  <input type="text" name="inputstring" size="9" value="City, St">
                  <input type="submit" name="Go2" value="Go"></form></td>
        </tr> -->
         <tr>
          <td class="searchinput" align="left">
            <form action="https://www.firstgov.gov/fgsearch/index.jsp" name="query">
             <label for="search"><span class="yellow">CPC Search</span></label>
              <input type="hidden" name="parsed" value="true">
              <input type="hidden" name="rn" value="3">
              <input type="hidden" name="in0" value="domain">
              <input type="hidden" name="dom0" value="www.cpc.ncep.noaa.gov">
              <input type="text" name="mw0" id="search"  size="10" maxLength="256" value="CPC search">&nbsp;
              <input type="submit" name="Go2" value="Go">
          </form></td>
         </tr>
        <tr>
          <td class="white">
            <span class="yellow">About Us</span><br>
            &nbsp;&nbsp;&nbsp;<a href="/information/who_we_are/mission.html" class="menu">Our Mission</a><br>
            &nbsp;&nbsp;&nbsp;<a href="/information/who_we_are/" class="menu">Who We Are</a><br><br>
            <span class="yellow">Contact Us</span><br>
            &nbsp;&nbsp;&nbsp;<a href="/information/personnel/contacts.html" class="menu">CPC Information</a><br>
            &nbsp;&nbsp;&nbsp;<a href="/comment-form.html" class="menu">CPC Web Team</a><br><br>           
          </td>
        </tr>
      </table>
    </td>
    <td valign="top" align="center" width="533"><a name="contents"></a>

<!-- Begin content area -->

<table border="0" cellPadding="2" cellSpacing="0" align="center" width="533">
 <tr><td>&nbsp;</td></tr>
 <tr>
  <td>
   <font face="Verdana,arial,serif" size="1"><a href="/index.html" class="homepagelinks"><strong>HOME</strong></a> &gt; <a href="/products/monitoring_and_data" class="homepagelinks">Monitoring_and_Data</a> &gt; <a href="/products/monitoring_and_data/oadata.html" class="homepagelinks">Oceanic and Atmospheric Data</a> &gt; <a href="/products/wesley/" class="homepagelinks">Reanalysis: Atmospheric Data</a> &gt; wgrib2-grid</font>
  </td>
 </tr>
 <tr><td>&nbsp;</td></tr>
 <tr>
  <td>
<font color=red>
<h3 align=center>wgrib2: -grid</h3>
</font>


<h3>Introduction</h3>

<p>
The <font color=red>-grid</font> option prints out the grid information.


<pre>
<font color=brown>$ wgrib2 gep19.t00z.pgb2af180 -grid -d 1</font>
1:0:grid_template=0:winds(N/S):
	lat-lon grid:(360 x 181) units 1e-06 input WE:NS output WE:SN res 48
	lat 90.000000 to -90.000000 by 1.000000
	lon 0.000000 to 359.000000 by 1.000000 #points=65160
</pre>

<pre>
<font color=brown>$ wgrib2 nam.683 -grid</font>
1:0:grid_template=30:winds(grid):
	Lambert Conformal: (1473 x 1025) input WE:SN output WE:SN res 8
	Lat1 12.190000 Lon1 226.541000 LoV 265.000000
	LatD 25.000000 Latin1 25.000000 Latin2 25.000000
	LatSP 0.000000 LonSP 0.000000
</pre>

<pre>
<font color=brown>$ wgrib2 .t00z.master.grb2f048 -grid -d 1</font>
ebis@landing2:~/grib2_examples$ wgrib2 gfs.t00z.master.grb2f048 -grid | more
1:0:grid_template=40:winds(N/S):
	Gaussian grid: (3072 x 1536) units 1e-06 input WE:NS output WE:SN
	number of latitudes between pole-equator=768 #points=4718592
	lat 89.909340 to -89.909340
	lon 0.000000 to 359.882813 by 0.117188
</pre>

<pre>
<font color=brown>$ wgrib2 merc.g2 -grid -d 1</font>
1:0:grid_template=10:winds(N/S):
	Mercator grid: (73 x 23) LatD 22.500000 input WE:SN output WE:SN res 48
	lat -48.090000 to 48.090000 by 513669.000000 m
	lon 0.000000 to 0.000000 by 513669.000000 m
	orientation 0.000000
</pre>

<p>
The four previous examples are for a grid definitions of a lat-lon, Lambert Conformal,
Gaussian and Mercator grids.  These are the most common grids that are commonly distributed
from NCEP.  Other commonly used grids are: polar stereographic, rotated lat-lon and
thinned Gaussian.  Radar and satellites often use different grids.

<h3>Understanding the grid definitions</h3>
<p>
The grid definitions are based on the grib grib defintions as published
by the WMO and copied by the NCEP's grib documentation.  For example, the
lat-lon grid defintion is given by 
<a href='https://www.nco.ncep.noaa.gov/pmb/docs/grib2/grib2_doc/grib2_temp3-0.shtml'>
https://www.nco.ncep.noaa.gov/pmb/docs/grib2/grib2_doc/grib2_temp3-0.shtml</a>.  
Wgrib2's version of the lat-lon grid is given by
<pre>
<font color=brown>$ wgrib2 gep19.t00z.pgb2af180 -grid -d 1</font>
1:0:grid_template=0:winds(N/S):
	lat-lon grid:(360 x 181) units 1e-06 input WE:NS output WE:SN res 48
	lat 90.000000 to -90.000000 by 1.000000
	lon 0.000000 to 359.000000 by 1.000000 #points=65160

template=N      .. grid defintion template 3.N
winds(N/S)      .. winds are earth relative
winds(grid)     .. winds are grid relative
(NX x NY)       .. grid dimensions (for rectangular grid)
units 1e-06     .. scaling of angles, scaled angles are stored as 4-byte integers
input WE:NS     .. grib has the data in WE:NS scan order
output WE:SN    .. wgrib2 internally has the data is in WE:SN scan order
                   if wgrib2 writes a bin/ieee/text file, it will be in the output scan order
                   The output scan order has to be WE:SN for geolocation to work.
                   The default output scan order is WE:SN.
output WE:NS    .. wgrib2 internally has the data is in WE:NS scan order
                   The is enabled by -order we:ns, and is used for writing binary data
                   in WE:NS order.
output raw      .. wgrib2 internally has the data in the input scan order
                   This scan order is needed for -new_grid to work.  
res N           .. value of the resolution and component flags octet (byte)
lat X to Y by Z .. latitudes start at X goes to Y by steps of Z
lon X to Y by Z .. longitudes start at X goes to Y by steps of Z
                   note: grib2 uses longitude is in [0,360) model
#points N       .. number of points in the grid including grid points with undefined values
</pre>


<h3>dlat and dlon in lat-lon grids</h3>
An above example showed the dlat and dlon for lat-lon grids.  The dlat and dlon were
saved to the nearest 1e-6 of a degree.  For calculating the lat/lon of the grid points,
wgrib2 calculates a more accurate version of dlat and dlon from the end points
of the grid. For all the angle calculations, wgrib2 uses double precision.  The only
exceptions is when angles are saved to rpn registers which are single precision, and if
wgrib2 is configured to call the old (single precision) iplib library.

<h3>Staggered Grids, wgrib2 2.0.8+</h3>

<p> Staggered grids are often used in grid point (as opposed to spectral)
atmospheric models.  (Arakawa, A.; Lamb, V.R. (1977). "Computational design of the 
basic dynamical processes of the UCLA general circulation model". Methods in Computational Physics: 
Advances in Research and Applications. 17: 173–265.)  There are advantages in
storing the model grids in grib for both the modeler and the user.  The advantages
are compactness, and a standard format.  The user also has the advantage of
eliminating an extra interpolation step.  The staggering information is stored
in the last 4 bits of flag table 3.4.  If these bits are all zero, there is no
staggering.

<p> Staggered grids in GRIB work by
<ol>
<li> A "fundamental" grid is defined
<li> staggered grid could have an 0 dx offset in the X direction
<li> or staggered grid could have an 1/2 dx offset in the X direction
<li> or staggered grid could have 0 dx offset for odd rows and 1/2 dx for even rows (all in the X direction)
<li> staggered grid could have an 0 dy offset in the Y direction
<li> or staggered grid could have an 1/2 dy offset in the Y direction
<li> staggered grid could have fewer points in the row or column if the offset is non-zero
</ol>

This scheme allows encoding the Arakawa A-E Egrids.  The wgrib2 -grid will show
the staggering.  The storage description was updated in v2.0.8 to be
<ol>
<li>  nx*ny:  length of the row is nx, there are ny rows
<li>  nx*(ny-1):  length of the row is nx, there are ny-1 rows
<li>  trim-x*ny:  length of the row is either nx or nx-1, there are ny rows
<li>  trim-x*(ny-1):  length of the is either nx or nx-1, there are ny-1 rows
</ol>


<h3>Usage</h3>
<p>

<pre>
-grid
</pre>

See also: 
<a href="./nxny.html">-nxny</a>,
<a href="./nlons.html">-nlons</a>
</td>
</tr>


<!--  End of Content area  -->
<!--   ...............................................Footer Portion.........................................    -->
 <tr>
  <td>
   <table width="500">
    <tr>
     <td colSpan="3"><hr></td>
    </tr>
    <TR vAlign="top">
     <TD class="gray">
      <A href="https://www.noaa.gov/" class="homepagelinks"><SPAN class="gray">NOAA/</SPAN></A>
      <A href="https://www.nws.noaa.gov/" class="homepagelinks"><SPAN class="gray">National Weather Service</SPAN></A><BR>
      <A href="https://www.ncep.noaa.gov/" class="homepagelinks"><SPAN class="gray">National Centers for Environmental Prediction</SPAN></a><BR>
        Climate Prediction Center<BR>
        5830 University Research Court<BR>
        College Park, Maryland 20740<BR>
      <A href="/comment-form.html" class="homepagelinks"><SPAN class="gray">Climate Prediction Center Web Team</SPAN></A><BR>
        Page last modified: May 15, 2005, updated Nov 29, 2018, 5-2021, June 2024
     </TD>
     <TD>
      <A href="https://weather.gov/disclaimer.php" class="homepagelinks"><SPAN class="gray">Disclaimer</SPAN></A>
     </TD>
     <TD align="right">
      <A href="https://weather.gov/privacy.php" class="homepagelinks"> <SPAN class="gray">Privacy Policy</SPAN></A>
     </TD>
    </TR>
   </table>
  </td>
 </tr>
</table>
</td>
</tr>
</table>
</body>
</html>

